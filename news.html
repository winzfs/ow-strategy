<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OWHUB - í”„ë¡œ ì¸í…”ë¦¬ì „ìŠ¤</title>
    <style>
        :root { --accent: #ff9c00; --bg-dark: #0f0f0f; --card-bg: #1a1a1a; --reddit-orange: #FF4500; }
        body { background: var(--bg-dark); color: white; font-family: 'Pretendard', sans-serif; margin: 0; padding-bottom: 80px; }
        
        nav { background: #000; padding: 10px 15px; display: flex; align-items: center; border-bottom: 1px solid #333; position: sticky; top: 0; z-index: 1000; height: 50px; }
        .nav-logo { font-size: 18px; font-weight: 900; color: var(--accent); cursor: pointer; }

        .container { max-width: 700px; margin: 0 auto; padding: 20px 15px; }

        .header-box { margin-bottom: 30px; border-left: 5px solid var(--reddit-orange); padding-left: 15px; }
        .header-box h1 { margin: 0; font-size: 22px; letter-spacing: -0.5px; }
        .header-box p { margin: 5px 0 0 0; color: #777; font-size: 13px; }

        /* ë ˆë”§ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
        .reddit-card { 
            background: var(--card-bg); border: 1px solid #222; border-radius: 12px; 
            margin-bottom: 15px; display: block; text-decoration: none; color: white;
            transition: 0.2s ease; overflow: hidden;
        }
        .reddit-card:hover { border-color: #444; transform: translateY(-2px); background: #222; }

        .card-inner { padding: 16px; display: flex; gap: 15px; }
        .score-box { display: flex; flex-direction: column; align-items: center; min-width: 40px; color: #888; font-weight: bold; font-size: 13px; }
        
        .content-box { flex-grow: 1; }
        .flair { 
            display: inline-block; padding: 2px 8px; border-radius: 4px; font-size: 10px; 
            font-weight: 900; text-transform: uppercase; margin-bottom: 8px;
            background: #333; color: #ccc;
        }
        .title { font-size: 16px; font-weight: bold; line-height: 1.4; margin-bottom: 8px; color: #eee; }
        .meta { font-size: 12px; color: #555; }
        .author { color: var(--accent); font-weight: bold; }

        .loader { text-align: center; padding: 50px; color: #555; font-size: 14px; }
        .back-btn { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--accent); color: black; border: none; padding: 12px 30px; border-radius: 30px; font-weight: bold; cursor: pointer; z-index: 1000; }
    </style>
</head>
<body>

<nav><div class="nav-logo" onclick="location.href='index.html'">OVERWATCH HUB</div></nav>

<div class="container">
    <div class="header-box">
        <h1>r/CompetitiveOverwatch</h1>
        <p>ì „ ì„¸ê³„ í”„ë¡œê²Œì´ë¨¸ ì†Œì‹ ë° ì´ìŠ¤í¬ì¸  ì¸í…”ë¦¬ì „ìŠ¤</p>
    </div>

    <div id="reddit-list">
        <div class="loader">ìœ„ì„± ë°ì´í„° ìˆ˜ì‹  ì¤‘...</div>
    </div>
</div>

<button class="back-btn" onclick="location.href='index.html'">ğŸ  ë³¸ë¶€ë¡œ ëŒì•„ê°€ê¸°</button>

<script>
    async function fetchReddit() {
        const listDiv = document.getElementById('reddit-list');
        // ë ˆë”§ JSON API (Hot ê²Œì‹œë¬¼ 15ê°œ)
        const API_URL = 'https://www.reddit.com/r/CompetitiveOverwatch/hot.json?limit=15';

        try {
            const response = await fetch(API_URL);
            const resData = await response.json();
            const posts = resData.data.children;

            let html = "";
            posts.forEach(post => {
                const p = post.data;
                
                // ê³µì§€ì‚¬í•­(Stickied) ê¸€ì€ ì œì™¸í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ
                // if (p.stickied) return;

                // ìˆ«ìê°€ í¬ë©´ K ë‹¨ìœ„ë¡œ í‘œì‹œ
                const score = p.ups > 1000 ? (p.ups/1000).toFixed(1) + 'k' : p.ups;
                const flair = p.link_flair_text || 'News';

                html += `
                    <a href="https://www.reddit.com${p.permalink}" target="_blank" class="reddit-card">
                        <div class="card-inner">
                            <div class="score-box">
                                <span>â–²</span>
                                <span>${score}</span>
                                <span>â–¼</span>
                            </div>
                            <div class="content-box">
                                <span class="flair" style="background: ${getFlairColor(flair)}">${flair}</span>
                                <div class="title">${p.title}</div>
                                <div class="meta">
                                    Posted by <span class="author">u/${p.author}</span>
                                </div>
                            </div>
                        </div>
                    </a>
                `;
            });
            listDiv.innerHTML = html;
        } catch (error) {
            listDiv.innerHTML = `<div class="loader">ë°ì´í„° ìˆ˜ì‹  ì‹¤íŒ¨. ë ˆë”§ ì„œë²„ë¥¼ í™•ì¸í•˜ì„¸ìš”.</div>`;
        }
    }

    // íƒœê·¸(Flair)ë³„ ìƒ‰ìƒ ì§€ì • í•¨ìˆ˜ (ë” 'ìˆì–´ ë³´ì´ê²Œ')
    function getFlairColor(text) {
        if (text.includes('Roster')) return '#d43f3f'; // ì´ì  ì†Œì‹ì€ ë¹¨ê°„ìƒ‰
        if (text.includes('Official')) return '#ff9c00'; // ì˜¤í”¼ì…œì€ ì£¼í™©ìƒ‰
        if (text.includes('Discussion')) return '#3498db'; // í† ë¡ ì€ íŒŒë€ìƒ‰
        if (text.includes('Guide')) return '#2ecc71'; // ê°€ì´ë“œëŠ” ë…¹ìƒ‰
        return '#333';
    }

    window.onload = fetchReddit;
</script>

</body>
</html>
