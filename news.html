<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OW2 Live News</title>
    <style>
        :root { --ow-orange: #f06414; --ow-blue: #00aeff; --ow-bg: #12161d; --card-bg: #1e242d; }
        body { background: var(--ow-bg); color: white; font-family: sans-serif; margin: 0; }
        header { background: #000; padding: 20px; text-align: center; border-bottom: 3px solid var(--ow-orange); }
        .tabs { display: flex; justify-content: center; background: #282e3e; position: sticky; top: 0; z-index: 10; }
        .tab-btn { padding: 15px 20px; border: none; background: none; color: white; cursor: pointer; font-weight: bold; }
        .tab-btn.active { color: var(--ow-orange); border-bottom: 3px solid var(--ow-orange); }
        .video-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; padding: 20px; }
        .card { background: var(--card-bg); border-radius: 8px; overflow: hidden; cursor: pointer; transition: 0.3s; }
        .card:hover { transform: translateY(-5px); border: 1px solid var(--ow-orange); }
        .thumb { width: 100%; aspect-ratio: 16/9; background-size: cover; }
        .info { padding: 15px; }
        .player { color: var(--ow-blue); font-size: 0.8rem; font-weight: bold; }
        .title { font-size: 0.9rem; margin-top: 5px; height: 2.8em; overflow: hidden; }
    </style>
</head>
<body>
    <header><h1>OVERWATCH FEED</h1><div id="update-time" style="font-size: 0.7rem; color: #888;"></div></header>
    <div class="tabs">
        <button class="tab-btn active" onclick="loadTab('pro')">PRO</button>
        <button class="tab-btn" onclick="loadTab('streamer')">STREAMER</button>
        <button class="tab-btn" onclick="loadTab('official')">OFFICIAL</button>
    </div>
    <div id="grid" class="video-grid"></div>

    <script>
        let db = null;
        async function init() {
            const res = await fetch('news.json?v=' + Date.now());
            db = await res.json();
            document.getElementById('update-time').innerText = "Updated: " + db.lastUpdated;
            loadTab('pro');
        }
        function loadTab(cat) {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.toggle('active', b.innerText.toLowerCase() === cat));
            const grid = document.getElementById('grid');
            grid.innerHTML = "";
            db[cat].forEach(v => {
                const div = document.createElement('div');
                div.className = 'card';
                div.onclick = () => window.open(`https://www.youtube.com/watch?v=${v.id}`);
                div.innerHTML = `<div class="thumb" style="background-image:url('https://img.youtube.com/vi/${v.id}/mqdefault.jpg')"></div>
                                 <div class="info"><div class="player">${v.player}</div><div class="title">${v.title}</div></div>`;
                grid.appendChild(div);
            });
        }
        init();
    </script>
</body>
</html>
