<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>OW2 TIER MAKER - MODERN UI</title>
    <style>
        @font-face {
            font-family: 'OW';
            src: url('https://fonts.cdnfonts.com/css/big-noodle-titling'); /* 오프라인시 시스템 기본 폰트로 대체됨 */
        }

        :root {
            --ow-orange: #f99e1a;
            --ow-blue: #00aeff;
            --bg-dark: #0f121a;
            --card-bg: rgba(30, 34, 45, 0.9);
            --tier-s: #ff4e50; --tier-a: #fc913a; --tier-b: #f9d423; --tier-c: #8eec67; --tier-f: #45b3e0;
        }

        body {
            background: radial-gradient(circle at center, #1a202c 0%, #080a0f 100%);
            color: white; font-family: 'Segoe UI', sans-serif;
            margin: 0; padding: 20px; min-height: 100vh;
            display: flex; flex-direction: column; align-items: center;
            overflow-x: hidden;
        }

        header { width: 100%; max-width: 1000px; text-align: left; margin-bottom: 20px; border-left: 5px solid var(--ow-orange); padding-left: 15px; }
        header h1 { margin: 0; font-style: italic; text-transform: uppercase; letter-spacing: -1px; font-size: 2.5rem; }

        /* 티어 컨테이너 레이아웃 */
        .tier-board { width: 100%; max-width: 1000px; display: flex; flex-direction: column; gap: 10px; }
        
        .tier-row {
            display: flex; background: var(--card-bg); border-radius: 4px;
            overflow: hidden; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.05);
            transition: 0.3s;
        }

        .tier-label {
            width: 70px; min-width: 70px; min-height: 80px;
            display: flex; align-items: center; justify-content: center;
            font-size: 2rem; font-weight: 900; color: #000;
            text-shadow: 1px 1px 0px rgba(255,255,255,0.3);
            clip-path: polygon(0 0, 100% 0, 85% 100%, 0% 100%); /* 게임 UI 특유의 기울기 */
        }

        /* 등급별 테마 */
        .s { background: var(--tier-s); box-shadow: 0 0 15px var(--tier-s); }
        .a { background: var(--tier-a); } .b { background: var(--tier-b); }
        .c { background: var(--tier-c); } .f { background: var(--tier-f); }

        .dropzone { flex-grow: 1; display: flex; flex-wrap: wrap; padding: 10px; gap: 10px; align-content: flex-start; }

        /* 영웅 아이콘 디자인 */
        .hero {
            width: 60px; height: 75px; background: #2a2f3b;
            border: 2px solid #4a5162; border-radius: 2px;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-end;
            font-size: 0.65rem; font-weight: bold; padding-bottom: 5px;
            cursor: pointer; position: relative; overflow: hidden;
            transition: all 0.2s cubic-bezier(0.23, 1, 0.32, 1);
            user-select: none; touch-action: none; /* 모바일 터치 드래그 필수 */
        }
        
        .hero::before { content: ""; position: absolute; top: 0; width: 100%; height: 70%; background: linear-gradient(to bottom, #3d4455, transparent); }
        .hero:hover { border-color: var(--ow-blue); transform: translateY(-5px) scale(1.05); box-shadow: 0 5px 15px rgba(0,174,255,0.4); }
        .hero.dragging { opacity: 0.5; transform: scale(0.8); z-index: 100; }

        /* 영웅 보관소 */
        .hero-pool-wrapper {
            width: 100%; max-width: 1000px; margin-top: 40px;
            background: rgba(0,0,0,0.4); padding: 20px; border-radius: 8px;
            border-top: 2px solid #333;
        }
        .pool-title { font-size: 0.9rem; color: #aaa; text-transform: uppercase; margin-bottom: 15px; letter-spacing: 2px; }
        .hero-pool { display: flex; flex-wrap: wrap; gap: 8px; justify-content: center; }

        .action-bar { margin-top: 30px; display: flex; gap: 15px; }
        .btn {
            padding: 12px 30px; border: none; font-weight: bold; text-transform: uppercase;
            border-radius: 2px; cursor: pointer; clip-path: polygon(10% 0, 100% 0, 90% 100%, 0% 100%);
            transition: 0.2s;
        }
        .btn-save { background: var(--ow-orange); color: white; }
        .btn-reset { background: #333; color: white; }
        .btn:hover { transform: skewX(-5deg) scale(1.05); filter: brightness(1.2); }

        /* 모바일 최적화 */
        @media (max-width: 600px) {
            .hero { width: 45px; height: 60px; font-size: 0.5rem; }
            .tier-label { width: 50px; min-width: 50px; font-size: 1.5rem; }
        }
    </style>
</head>
<body>

    <header>
        <h1>Hero Tier List <span style="font-weight:100; font-style:normal; font-size:1rem; color:var(--ow-blue);">SEASON 2026</span></h1>
    </header>

    <div class="tier-board">
        <div class="tier-row"><div class="tier-label s">S</div><div class="dropzone" data-tier="S"></div></div>
        <div class="tier-row"><div class="tier-label a">A</div><div class="dropzone" data-tier="A"></div></div>
        <div class="tier-row"><div class="tier-label b">B</div><div class="dropzone" data-tier="B"></div></div>
        <div class="tier-row"><div class="tier-label c">C</div><div class="dropzone" data-tier="C"></div></div>
        <div class="tier-row"><div class="tier-label f">F</div><div class="dropzone" data-tier="F"></div></div>
    </div>

    <div class="hero-pool-wrapper">
        <div class="pool-title">Available Heroes</div>
        <div class="hero-pool dropzone" id="pool"></div>
    </div>

    <div class="action-bar">
        <button class="btn btn-reset" onclick="window.location.reload()">Reset</button>
        <button class="btn btn-save" onclick="exportData()">Export JSON</button>
    </div>

    <script>
        // 전 영웅 리스트 (오버워치 2.0 기준)
        const heroes = [
            'D.Va', 'Doomfist', 'JunkerQueen', 'Orisa', 'Ramattra', 'Reinhardt', 'Roadhog', 'Sigma', 'Winston', 'WreckingBall', 'Zarya', 'Mauga',
            'Ashe', 'Bastion', 'Cassidy', 'Echo', 'Genji', 'Hanzo', 'Junkrat', 'Mei', 'Pharah', 'Reaper', 'Sojourn', 'Soldier:76', 'Sombra', 'Symmetra', 'Torbjörn', 'Tracer', 'Widowmaker', 'Venture',
            'Ana', 'Baptiste', 'Brigitte', 'Illari', 'Kiriko', 'Lifeweaver', 'Lúcio', 'Mercy', 'Moira', 'Zenyatta', 'Juno'
        ];

        const pool = document.getElementById('pool');

        // 영웅 카드 생성
        heroes.forEach(name => {
            const el = document.createElement('div');
            el.className = 'hero';
            el.draggable = true;
            el.innerHTML = `<span>${name}</span>`;
            el.id = 'h-' + name.replace(/\s|:|:/g, '-');
            pool.appendChild(el);
        });

        // 순수 자바스크립트 드래그 앤 드롭 (모바일 대응 로직 포함)
        const dropzones = document.querySelectorAll('.dropzone');
        let dragItem = null;

        // PC 드래그 이벤트
        document.addEventListener('dragstart', (e) => {
            if(e.target.classList.contains('hero')) {
                dragItem = e.target;
                e.target.classList.add('dragging');
            }
        });

        document.addEventListener('dragend', (e) => {
            if(e.target.classList.contains('hero')) {
                e.target.classList.remove('dragging');
            }
        });

        dropzones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.style.background = "rgba(255,255,255,0.05)";
            });

            zone.addEventListener('dragleave', e => {
                zone.style.background = "transparent";
            });

            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.style.background = "transparent";
                if (dragItem) zone.appendChild(dragItem);
            });
        });

        // 모바일 터치 드래그 시뮬레이션 (오프라인/라이브러리 미사용 핵심)
        document.addEventListener('touchstart', e => {
            if(e.target.classList.contains('hero') || e.target.parentElement.classList.contains('hero')) {
                dragItem = e.target.classList.contains('hero') ? e.target : e.target.parentElement;
                dragItem.classList.add('dragging');
            }
        }, {passive: false});

        document.addEventListener('touchmove', e => {
            if(!dragItem) return;
            e.preventDefault();
            const touch = e.touches[0];
            dragItem.style.position = 'fixed';
            dragItem.style.left = touch.clientX - 30 + 'px';
            dragItem.style.top = touch.clientY - 30 + 'px';
        }, {passive: false});

        document.addEventListener('touchend', e => {
            if(!dragItem) return;
            dragItem.classList.remove('dragging');
            dragItem.style.position = 'static';
            
            const touch = e.changedTouches[0];
            const targetEl = document.elementFromPoint(touch.clientX, touch.clientY);
            const zone = targetEl?.closest('.dropzone');
            
            if(zone) zone.appendChild(dragItem);
            dragItem = null;
        });

        // 데이터 저장 (관리자 메일 jazzhjm@gmail.com 연동용 데이터 구조)
        function exportData() {
            const data = {};
            document.querySelectorAll('.tier-row').forEach(row => {
                const tier = row.querySelector('.tier-label').innerText;
                const heroes = Array.from(row.querySelectorAll('.hero span')).map(s => s.innerText);
                data[tier] = heroes;
            });
            console.log("티어 리스트 데이터:", data);
            alert("콘솔창에 JSON 데이터가 생성되었습니다. 이를 관리자 이메일로 전달
